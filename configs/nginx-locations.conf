  
location = /favicon.ico {
    log_not_found off;
    access_log off;
  }

location = /robots.txt {
  allow all;
  log_not_found off;
  access_log off;
}
  
 location ~* \.(jpg|jpeg|gif|png|css|js|ico|xml)$ {
	 access_log        off;
	 log_not_found     off;
	 expires           30d;
}

#vary on fix 
location ~ \.(?:css|htc|js|js2|js3|js4)$ {
     gzip_vary on;
}
#font awesome fix - for total chcche plugins and cdns usppor
location ~* \.(eot|ttf|woff)$ {
    add_header Access-Control-Allow-Origin *;
}

#Yoast sitemap
location ~ ([^/]*)sitemap(.*)\.x(m|s)l$ {
        ## this redirects sitemap.xml to /sitemap_index.xml
	rewrite ^/sitemap\.xml$ /sitemap_index.xml permanent;
        ## this makes the XML sitemaps work
        rewrite ^/([a-z]+)?-?sitemap\.xsl$ /index.php?xsl=$1 last;
	rewrite ^/sitemap_index\.xml$ /index.php?sitemap=1 last;
	rewrite ^/([^/]+?)-sitemap([0-9]+)?\.xml$ /index.php?sitemap=$1&sitemap_n=$2 last;
        ## The following lines are optional for the premium extensions
	## News SEO
        rewrite ^/news-sitemap\.xml$ /index.php?sitemap=wpseo_news last;
	## Local SEO
	rewrite ^/locations\.kml$ /index.php?sitemap=wpseo_local_kml last;
	rewrite ^/geo-sitemap\.xml$ /index.php?sitemap=wpseo_local last;
	## Video SEO
	rewrite ^/video-sitemap\.xsl$ /index.php?xsl=video last;
}
